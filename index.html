<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>GO APPLE — Catálogo</title>

<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}
(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '650415544428771'); fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=650415544428771&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '3997634023847682');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=3997634023847682&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<style>
  :root{
    --bg:#ffffff; --surface:#ffffff; --surface-2:#f5f5f7; --line:#e6e6e9;
    --ink:#1d1d1f; --muted:#6e6e73; --accent:#0071e3;
    --radius:14px; --gap:10px;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{ margin:0; background:var(--bg); color:var(--ink);
        font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","SF Pro Display",Segoe UI,Roboto,Helvetica,Arial,sans-serif; }

  .apple-nav{ position:sticky; top:0; z-index:20; height:44px; border-bottom:1px solid var(--line);
    -webkit-backdrop-filter:saturate(1.8) blur(20px); backdrop-filter:saturate(1.8) blur(20px);
    background:rgba(255,255,255,.86); }
  .nav-inner{ max-width:1200px; margin:0 auto; height:100%;
    display:flex; align-items:center; justify-content:center; padding:0 12px; }
  .brand{ display:flex; align-items:center; gap:8px; text-decoration:none; color:inherit; }
  .logo-img{ height:22px; width:auto; display:block; }
  .logo-fallback{ font-weight:800; font-size:16px; letter-spacing:.2px; }

  .hero{ max-width:1200px; margin:10px auto 0; padding:8px 12px 0; }
  .hero h1{ margin:0; font-size:28px; line-height:1.1; font-weight:800; }

  /* GRID: altura AUTO para que entren los chips */
  main .grid{
    display:grid; gap:var(--gap);
    grid-template-columns:repeat(2, minmax(0, 1fr));
    grid-auto-rows:auto;               /* ⬅️  antes fijo, ahora auto */
    padding:10px; max-width:1200px; margin:0 auto;
  }
  @media (min-width:600px){ main .grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); } }
  @media (min-width:992px){ main .grid{ grid-template-columns:repeat(4, minmax(0, 1fr)); } }

  /* CARD */
  .card{
    position:relative;
    background:var(--surface); border:1px solid var(--line); border-radius:var(--radius);
    display:flex; flex-direction:column; overflow:hidden;
    transition:transform .2s, box-shadow .2s, border-color .2s;
  }
  .card:hover{ transform:translateY(-2px); box-shadow:0 12px 26px rgba(0,0,0,.06); border-color:#dcdde2; }
  .card-hit{ position:absolute; inset:0; border:0; background:transparent; cursor:pointer; }

  /* Imagen grande con altura fija razonable; el resto fluye */
  .img{
    position:relative;
    background:var(--surface-2);
    display:flex; align-items:center; justify-content:center;
    flex:0 0 210px;         /* ⬅️  altura visual de la imagen en móvil */
    min-height:210px;
  }
  .img img{
    max-width:95%;
    max-height:90%;
    width:auto; height:auto;
    object-fit:contain;
  }
  @media (min-width:600px){
    .img{ flex:0 0 200px; min-height:200px; }
  }
  @media (min-width:992px){
    .img{ flex:0 0 180px; min-height:180px; }
  }

  .no-img{ color:var(--muted); font-size:13px; }
  .status{
    position:absolute; top:8px; left:8px; padding:4px 10px; border-radius:999px;
    background:#f2f2f7; border:1px solid var(--line); color:#3a3a3c; font-size:11px; font-weight:600;
  }
  .off-badge{
    position:absolute; top:10px; right:10px; padding:6px 10px;
    background:#ff3b30; color:#fff; font-size:12px; font-weight:800; border-radius:999px;
    box-shadow:0 2px 8px rgba(255,59,48,.25); pointer-events:none;
  }

  .info{ padding:10px 10px 12px; display:flex; flex-direction:column; gap:6px; }
  .name{ margin:0; font-weight:800; font-size:15px; line-height:1.15;
    display:-webkit-box; -webkit-line-clamp:1; -webkit-box-orient:vertical; overflow:hidden; }
  .price{ font-size:18px; font-weight:800; color:#000; }
  .sub{ font-size:12.5px; color:#0071e3; font-weight:600; }
  .cuotas-hint{ cursor:default; }
  .meta{ display:flex; flex-wrap:wrap; gap:6px; }
  .chip{ background:#f6f7f8; border:1px solid var(--line); color:#1d1d1f;
    font-size:12px; padding:5px 8px; border-radius:999px; display:inline-flex; align-items:center; gap:6px; }
  .dot{ width:10px; height:10px; border-radius:999px; background:var(--dot, #d1d5db); border:1px solid rgba(0,0,0,.08); }

  [data-status="vendido"] .status{ background:#fff0f0; color:#b00020; border-color:#ffd6d6; }
  [data-status="reservado"] .status{ background:#fff8e1; color:#8a6d1f; border-color:#ffe8a3; }
  [data-status="disponible"] .status{ background:#e7f7ee; color:#1b6f43; border-color:#cdebdc; }

  /* POPUP beneficios */
  .overlay{ position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; align-items:center; justify-content:center; z-index:40; }
  .modal{ width:min(560px,92vw); background:#fff; border:1px solid var(--line); border-radius:20px; box-shadow:0 30px 80px rgba(0,0,0,.25); overflow:hidden; }
  .modal header{ padding:18px 22px 0; text-align:center; }
  .modal h2{ margin:0; font-size:24px; font-weight:800; }
  .modal p.lead{ margin:6px 0 14px; color:#424245; font-size:15px; }
  .benefits{ padding:0 18px 6px; }
  .benefits li{ list-style:none; display:flex; align-items:flex-start; gap:10px; margin:10px 0; color:#1d1d1f; }
  .benefits li .tick{ flex:0 0 auto; width:22px; height:22px; border-radius:999px; display:grid; place-items:center; background:#e6f0ff; color:#0071e3; font-weight:800; }
  .modal footer{ display:flex; gap:10px; justify-content:center; padding:16px 18px 22px; background:#f5f5f7; border-top:1px solid var(--line); }
  .cta{ appearance:none; padding:10px 16px; border-radius:999px; font-weight:700; cursor:pointer; border:1px solid #cfd2d8; background:#fff; }
  .cta.primary{ background:#0071e3; color:#fff; border-color:#0071e3; }
  .cta.primary:hover{ filter:brightness(.98); }
  .cta:hover{ border-color:#bfc4cc; }

  /* DETALLE PRODUCTO */
  .overlay.detail{ z-index:50; }
  .modal.detail{ width:min(900px,96vw); display:grid; grid-template-columns:1fr; }
  .detail-media{ background:var(--surface-2); display:grid; place-items:center; padding:24px; border-bottom:1px solid var(--line); position:relative; }
  .detail-media img{ width:min(520px,88%); height:auto; object-fit:contain; }
  .detail-off{ position:absolute; top:12px; right:12px; background:#ff3b30; color:#fff; font-weight:800; font-size:12px; padding:6px 10px; border-radius:999px; }
  .detail-body{ padding:18px 18px 20px; display:grid; gap:10px; }
  .detail-title{ margin:0; font-size:22px; font-weight:800; }
  .detail-meta{ display:flex; flex-wrap:wrap; gap:8px; }
  .prices{ display:grid; gap:6px; }
  .p-usd{ font-size:20px; font-weight:800; color:#000; }
  .p-ars{ font-size:16px; font-weight:700; color:#111; }
  .p-cuotas{ font-size:13.5px; color:#0071e3; font-weight:600; }
  .p-cuotas .linea{ margin-top:2px; color:#1d1d1f; }
  .p-cuotas .linea strong{ font-weight:800; }
  .detail-actions{ display:flex; gap:8px; justify-content:flex-end; }
  .close-x{ position:absolute; top:10px; right:12px; border:0; background:transparent; font-size:24px; line-height:1; cursor:pointer; }

  @media (min-width:780px){
    .modal.detail{ grid-template-columns:1.1fr 1fr; }
    .detail-media{ border-bottom:0; border-right:1px solid var(--line); }
    .close-x{ top:6px; right:10px; }
  }
</style>
</head>
<body>

<nav class="apple-nav">
  <div class="nav-inner">
    <a class="brand" href="#" aria-label="GO APPLE">
      <img class="logo-img" src="https://tu-dominio.com/logo.png" alt="GO APPLE"
           onerror="this.nextElementSibling.style.display='inline-block'; this.remove()" />
      <span class="logo-fallback">GO APPLE</span>
    </a>
  </div>
</nav>

<section class="hero">
  <h1>iPhone — Catálogo</h1>
</section>

<main>
  <div class="grid" id="grid">
    
  <article class="card"
    data-idx="0"
    data-name="iphone 13"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 13"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98604/image_256/iPhone%2013" alt="iPhone 13" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 13">iPhone 13</h3>
      <div class="price">$ 570.000</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#111827"></i>Negro</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(102 70% 45%)"></i>85%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="1"
    data-name="iphone 13"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 13"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98604/image_256/iPhone%2013" alt="iPhone 13" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 13">iPhone 13</h3>
      <div class="price">$ 570.000</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#111827"></i>Negro</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(108 70% 45%)"></i>90%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="2"
    data-name="iphone 13 pro"
    data-status=""
    data-storage="256gb">
    <button class="card-hit" aria-label="Ver iPhone 13 Pro"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98604/image_256/iPhone%2013" alt="iPhone 13 Pro" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 13 Pro">iPhone 13 Pro</h3>
      <div class="price">$ 783.750</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#f9fafb"></i>Blanco</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>256GB</span><span class="chip"><i class="dot" style="--dot:hsl(102 70% 45%)"></i>85%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="3"
    data-name="iphone 13 pro max"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 13 Pro Max"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98604/image_256/iPhone%2013" alt="iPhone 13 Pro Max" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 13 Pro Max">iPhone 13 Pro Max</h3>
      <div class="price">$ 926.250</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#d1d5db"></i>Celeste</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(113 70% 45%)"></i>94%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="4"
    data-name="iphone 14"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 14"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98603/image_256/iPhone%2014" alt="iPhone 14" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 14">iPhone 14</h3>
      <div class="price">$ 598.500</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#dc2626"></i>Rojo</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(120 70% 45%)"></i>100%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="5"
    data-name="iphone 15"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 15"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98601/image_256/iPhone%2015" alt="iPhone 15" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 15">iPhone 15</h3>
      <div class="price">$ 926.250</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#111827"></i>Negro</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(120 70% 45%)"></i>100%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="6"
    data-name="iphone 15 pro"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 15 Pro"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98601/image_256/iPhone%2015" alt="iPhone 15 Pro" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 15 Pro">iPhone 15 Pro</h3>
      <div class="price">$ 1.068.750</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#111827"></i>Negro</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(107 70% 45%)"></i>89%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="7"
    data-name="iphone 15 pro max"
    data-status=""
    data-storage="128gb">
    <button class="card-hit" aria-label="Ver iPhone 15 Pro Max"></button>
    <div class="img">
      <img src="https://www.macstation.com.ar/web/image/product.template/98601/image_256/iPhone%2015" alt="iPhone 15 Pro Max" loading="lazy" />
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 15 Pro Max">iPhone 15 Pro Max</h3>
      <div class="price">$ 1.311.000</div>
      <div class="sub cuotas-hint">Ver cuotas</div>
      <div class="meta">
        <span class="chip"><i class="dot" style="--dot:#f9fafb"></i>Blanco</span><span class="chip"><i class="dot" style="--dot:#9ca3af"></i>128GB</span><span class="chip"><i class="dot" style="--dot:hsl(108 70% 45%)"></i>90%</span>
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="8"
    data-name="iphone 17"
    data-status=""
    data-storage="—">
    <button class="card-hit" aria-label="Ver iPhone 17"></button>
    <div class="img">
      <div class="no-img">Sin imagen</div>
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 17">iPhone 17</h3>
      <div class="price">—</div>
      
      <div class="meta">
        
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="9"
    data-name="iphone 17 pro"
    data-status=""
    data-storage="—">
    <button class="card-hit" aria-label="Ver iPhone 17 Pro"></button>
    <div class="img">
      <div class="no-img">Sin imagen</div>
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 17 Pro">iPhone 17 Pro</h3>
      <div class="price">—</div>
      
      <div class="meta">
        
      </div>
    </div>
  </article>

  <article class="card"
    data-idx="10"
    data-name="iphone 17 pro max"
    data-status=""
    data-storage="—">
    <button class="card-hit" aria-label="Ver iPhone 17 Pro Max"></button>
    <div class="img">
      <div class="no-img">Sin imagen</div>
      <span class="off-badge" aria-hidden="true">10% OFF</span>
    </div>
    <div class="info">
      <h3 class="name" title="iPhone 17 Pro Max">iPhone 17 Pro Max</h3>
      <div class="price">—</div>
      
      <div class="meta">
        
      </div>
    </div>
  </article>
  </div>
</main>

<!-- Popup beneficios -->
<div class="overlay" id="welcome">
  <div class="modal" role="dialog" aria-labelledby="w-title" aria-modal="true">
    <header>
      <h2 id="w-title">Bienvenido a GO APPLE</h2>
      <p class="lead">Elegí tu iPhone con beneficios que suman de verdad.</p>
    </header>
    <ul class="benefits">
      <li><span class="tick">✓</span><div><strong>Pack de regalo</strong>: funda, cargador, cable y vidrio templado.</div></li>
      <li><span class="tick">✓</span><div><strong>30 días de garantía</strong> de funcionamiento.</div></li>
      <li><span class="tick">✓</span><div><strong>Hasta 6 cuotas fijas</strong> para que pagues cómodo.</div></li>
      <li><span class="tick">✓</span><div><strong>Servicio técnico con descuento</strong> por ser cliente GO APPLE.</div></li>
    </ul>
    <footer>
      <button class="cta" id="dismiss">Después</button>
      <button class="cta primary" id="see">Ver modelos</button>
    </footer>
  </div>
</div>

<!-- Modal de detalle producto -->
<div class="overlay detail" id="detail">
  <div class="modal detail" role="dialog" aria-labelledby="d-title" aria-modal="true">
    <button class="close-x" id="d-close" aria-label="Cerrar">×</button>
    <div class="detail-media">
      <span class="detail-off">10% OFF</span>
      <img id="d-img" alt="Producto" />
    </div>
    <div class="detail-body">
      <h2 class="detail-title" id="d-title"></h2>
      <div class="detail-meta" id="d-meta"></div>
      <div class="prices">
        <div class="p-usd" id="d-usd"></div>
        <div class="p-ars" id="d-ars"></div>
        <div class="p-cuotas" id="d-cuotas"></div>
      </div>
      <div class="detail-actions">
        <button class="cta" id="d-later">Después</button>
        <button class="cta primary" id="d-contact">Consultar</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Dataset embebido
  window.__PRODUCTS__ = JSON.parse(atob('W3siX3JhdyI6eyIyIjoiIiwiMTQyNSI6IiIsInJvd19udW1iZXIiOjIsIk1vZGVsbyI6ImlQaG9uZSAxMyIsIkJhdGVyw61hIjo4NSwiQWxtYWNlbmFtaWVudG8iOiIxMjhHQiIsIkNvbG9yIjoiTmVncm8iLCJQcmVjaW8gVVNEIjo0MDAsIlByZWNpbyBBUlMiOjU3MDAwMCwiMyBDdW90YSI6MjUxMzgxLjkzOTEzMzgxNzIsIjYgQ3VvdGFzIjoxNDY4NzYuNzA1NTA5MTEzMzIsIlVTRCBIT1kiOiIifSwiTmFtZSI6ImlQaG9uZSAxMyIsIlByaWNlVVNEIjo0MDAsIlByaWNlQVJTIjo1NzAwMDAsIlByaWNlTGFiZWwiOiIkIDU3MC4wMDAiLCJCYXR0ZXJ5Ijo4NSwiU3RvcmFnZSI6IjEyOEdCIiwiTW9kZWxvIjoiaVBob25lIDEzIiwiQ29sb3IiOiJOZWdybyIsIkN1b3RhMyI6IiQgMjUxLjM4MiIsIkN1b3RhNiI6IiQgMTQ2Ljg3NyIsIlN0YXR1cyI6IiIsIkltYWdlVVJMIjoiaHR0cHM6Ly93d3cubWFjc3RhdGlvbi5jb20uYXIvd2ViL2ltYWdlL3Byb2R1Y3QudGVtcGxhdGUvOTg2MDQvaW1hZ2VfMjU2L2lQaG9uZSUyMDEzIn0seyJfcmF3Ijp7IjIiOiIiLCIxNDI1IjoiIiwicm93X251bWJlciI6MywiTW9kZWxvIjoiaVBob25lIDEzIiwiQmF0ZXLDrWEiOjkwLCJBbG1hY2VuYW1pZW50byI6IjEyOEdCIiwiQ29sb3IiOiJOZWdybyIsIlByZWNpbyBVU0QiOjQwMCwiUHJlY2lvIEFSUyI6NTcwMDAwLCIzIEN1b3RhIjoyNTEzODEuOTM5MTMzODE3MiwiNiBDdW90YXMiOjE0Njg3Ni43MDU1MDkxMTMzMiwiVVNEIEhPWSI6IiJ9LCJOYW1lIjoiaVBob25lIDEzIiwiUHJpY2VVU0QiOjQwMCwiUHJpY2VBUlMiOjU3MDAwMCwiUHJpY2VMYWJlbCI6IiQgNTcwLjAwMCIsIkJhdHRlcnkiOjkwLCJTdG9yYWdlIjoiMTI4R0IiLCJNb2RlbG8iOiJpUGhvbmUgMTMiLCJDb2xvciI6Ik5lZ3JvIiwiQ3VvdGEzIjoiJCAyNTEuMzgyIiwiQ3VvdGE2IjoiJCAxNDYuODc3IiwiU3RhdHVzIjoiIiwiSW1hZ2VVUkwiOiJodHRwczovL3d3dy5tYWNzdGF0aW9uLmNvbS5hci93ZWIvaW1hZ2UvcHJvZHVjdC50ZW1wbGF0ZS85ODYwNC9pbWFnZV8yNTYvaVBob25lJTIwMTMifSx7Il9yYXciOnsiMiI6IiIsIjE0MjUiOiIiLCJyb3dfbnVtYmVyIjo0LCJNb2RlbG8iOiJpUGhvbmUgMTMgUHJvIiwiQmF0ZXLDrWEiOjg1LCJBbG1hY2VuYW1pZW50byI6IjI1NkdCIiwiQ29sb3IiOiJCbGFuY28iLCJQcmVjaW8gVVNEIjo1NTAsIlByZWNpbyBBUlMiOjc4Mzc1MCwiMyBDdW90YSI6MzQ1NjUwLjE2NjMwODk5ODY1LCI2IEN1b3RhcyI6MjAxOTU1LjQ3MDA3NTAzMDgsIlVTRCBIT1kiOiIifSwiTmFtZSI6ImlQaG9uZSAxMyBQcm8iLCJQcmljZVVTRCI6NTUwLCJQcmljZUFSUyI6NzgzNzUwLCJQcmljZUxhYmVsIjoiJCA3ODMuNzUwIiwiQmF0dGVyeSI6ODUsIlN0b3JhZ2UiOiIyNTZHQiIsIk1vZGVsbyI6ImlQaG9uZSAxMyBQcm8iLCJDb2xvciI6IkJsYW5jbyIsIkN1b3RhMyI6IiQgMzQ1LjY1MCIsIkN1b3RhNiI6IiQgMjAxLjk1NSIsIlN0YXR1cyI6IiIsIkltYWdlVVJMIjoiaHR0cHM6Ly93d3cubWFjc3RhdGlvbi5jb20uYXIvd2ViL2ltYWdlL3Byb2R1Y3QudGVtcGxhdGUvOTg2MDQvaW1hZ2VfMjU2L2lQaG9uZSUyMDEzIn0seyJfcmF3Ijp7IjIiOiIiLCIxNDI1IjoiIiwicm93X251bWJlciI6NSwiTW9kZWxvIjoiaVBob25lIDEzIFBybyBNYXgiLCJCYXRlcsOtYSI6OTQsIkFsbWFjZW5hbWllbnRvIjoiMTI4R0IiLCJDb2xvciI6IkNlbGVzdGUiLCJQcmVjaW8gVVNEIjo2NTAsIlByZWNpbyBBUlMiOjkyNjI1MCwiMyBDdW90YSI6NDA4NDk1LjY1MTA5MjQ1MywiNiBDdW90YXMiOjIzODY3NC42NDY0NTIzMDkxMywiVVNEIEhPWSI6IiJ9LCJOYW1lIjoiaVBob25lIDEzIFBybyBNYXgiLCJQcmljZVVTRCI6NjUwLCJQcmljZUFSUyI6OTI2MjUwLCJQcmljZUxhYmVsIjoiJCA5MjYuMjUwIiwiQmF0dGVyeSI6OTQsIlN0b3JhZ2UiOiIxMjhHQiIsIk1vZGVsbyI6ImlQaG9uZSAxMyBQcm8gTWF4IiwiQ29sb3IiOiJDZWxlc3RlIiwiQ3VvdGEzIjoiJCA0MDguNDk2IiwiQ3VvdGE2IjoiJCAyMzguNjc1IiwiU3RhdHVzIjoiIiwiSW1hZ2VVUkwiOiJodHRwczovL3d3dy5tYWNzdGF0aW9uLmNvbS5hci93ZWIvaW1hZ2UvcHJvZHVjdC50ZW1wbGF0ZS85ODYwNC9pbWFnZV8yNTYvaVBob25lJTIwMTMifSx7Il9yYXciOnsiMiI6IiIsIjE0MjUiOiIiLCJyb3dfbnVtYmVyIjo2LCJNb2RlbG8iOiJpUGhvbmUgMTQiLCJCYXRlcsOtYSI6MTAwLCJBbG1hY2VuYW1pZW50byI6IjEyOEdCIiwiQ29sb3IiOiJSb2pvIiwiUHJlY2lvIFVTRCI6NDIwLCJQcmVjaW8gQVJTIjo1OTg1MDAsIjMgQ3VvdGEiOjI2Mzk1MS4wMzYwOTA1MDgxLCI2IEN1b3RhcyI6MTU0MjIwLjU0MDc4NDU2OSwiVVNEIEhPWSI6IiJ9LCJOYW1lIjoiaVBob25lIDE0IiwiUHJpY2VVU0QiOjQyMCwiUHJpY2VBUlMiOjU5ODUwMCwiUHJpY2VMYWJlbCI6IiQgNTk4LjUwMCIsIkJhdHRlcnkiOjEwMCwiU3RvcmFnZSI6IjEyOEdCIiwiTW9kZWxvIjoiaVBob25lIDE0IiwiQ29sb3IiOiJSb2pvIiwiQ3VvdGEzIjoiJCAyNjMuOTUxIiwiQ3VvdGE2IjoiJCAxNTQuMjIxIiwiU3RhdHVzIjoiIiwiSW1hZ2VVUkwiOiJodHRwczovL3d3dy5tYWNzdGF0aW9uLmNvbS5hci93ZWIvaW1hZ2UvcHJvZHVjdC50ZW1wbGF0ZS85ODYwMy9pbWFnZV8yNTYvaVBob25lJTIwMTQifSx7Il9yYXciOnsiMiI6IiIsIjE0MjUiOiIiLCJyb3dfbnVtYmVyIjo3LCJNb2RlbG8iOiJpUGhvbmUgMTUiLCJCYXRlcsOtYSI6MTAwLCJBbG1hY2VuYW1pZW50byI6IjEyOEdCIiwiQ29sb3IiOiJOZWdybyIsIlByZWNpbyBVU0QiOjY1MCwiUHJlY2lvIEFSUyI6OTI2MjUwLCIzIEN1b3RhIjo0MDg0OTUuNjUxMDkyNDUzLCI2IEN1b3RhcyI6MjM4Njc0LjY0NjQ1MjMwOTEzLCJVU0QgSE9ZIjoiIn0sIk5hbWUiOiJpUGhvbmUgMTUiLCJQcmljZVVTRCI6NjUwLCJQcmljZUFSUyI6OTI2MjUwLCJQcmljZUxhYmVsIjoiJCA5MjYuMjUwIiwiQmF0dGVyeSI6MTAwLCJTdG9yYWdlIjoiMTI4R0IiLCJNb2RlbG8iOiJpUGhvbmUgMTUiLCJDb2xvciI6Ik5lZ3JvIiwiQ3VvdGEzIjoiJCA0MDguNDk2IiwiQ3VvdGE2IjoiJCAyMzguNjc1IiwiU3RhdHVzIjoiIiwiSW1hZ2VVUkwiOiJodHRwczovL3d3dy5tYWNzdGF0aW9uLmNvbS5hci93ZWIvaW1hZ2UvcHJvZHVjdC50ZW1wbGF0ZS85ODYwMS9pbWFnZV8yNTYvaVBob25lJTIwMTUifSx7Il9yYXciOnsiMiI6IiIsIjE0MjUiOiIiLCJyb3dfbnVtYmVyIjo4LCJNb2RlbG8iOiJpUGhvbmUgMTUgUHJvIiwiQmF0ZXLDrWEiOjg5LCJBbG1hY2VuYW1pZW50byI6IjEyOEdCIiwiQ29sb3IiOiJOZWdybyIsIlByZWNpbyBVU0QiOjc1MCwiUHJlY2lvIEFSUyI6MTA2ODc1MCwiMyBDdW90YSI6NDcxMzQxLjEzNTg3NTkwNzI2LCI2IEN1b3RhcyI6Mjc1MzkzLjgyMjgyOTU4NzQ0LCJVU0QgSE9ZIjoiIn0sIk5hbWUiOiJpUGhvbmUgMTUgUHJvIiwiUHJpY2VVU0QiOjc1MCwiUHJpY2VBUlMiOjEwNjg3NTAsIlByaWNlTGFiZWwiOiIkIDEuMDY4Ljc1MCIsIkJhdHRlcnkiOjg5LCJTdG9yYWdlIjoiMTI4R0IiLCJNb2RlbG8iOiJpUGhvbmUgMTUgUHJvIiwiQ29sb3IiOiJOZWdybyIsIkN1b3RhMyI6IiQgNDcxLjM0MSIsIkN1b3RhNiI6IiQgMjc1LjM5NCIsIlN0YXR1cyI6IiIsIkltYWdlVVJMIjoiaHR0cHM6Ly93d3cubWFjc3RhdGlvbi5jb20uYXIvd2ViL2ltYWdlL3Byb2R1Y3QudGVtcGxhdGUvOTg2MDEvaW1hZ2VfMjU2L2lQaG9uZSUyMDE1In0seyJfcmF3Ijp7IjIiOiIiLCIxNDI1IjoiIiwicm93X251bWJlciI6OSwiTW9kZWxvIjoiaVBob25lIDE1IFBybyBNYXgiLCJCYXRlcsOtYSI6OTAsIkFsbWFjZW5hbWllbnRvIjoiMTI4R0IiLCJDb2xvciI6IkJsYW5jbyIsIlByZWNpbyBVU0QiOjkyMCwiUHJlY2lvIEFSUyI6MTMxMTAwMCwiMyBDdW90YSI6NTc4MTc4LjQ2MDAwNzc3OTYsIjYgQ3VvdGFzIjozMzc4MTYuNDIyNjcwOTYwNjYsIlVTRCBIT1kiOiIifSwiTmFtZSI6ImlQaG9uZSAxNSBQcm8gTWF4IiwiUHJpY2VVU0QiOjkyMCwiUHJpY2VBUlMiOjEzMTEwMDAsIlByaWNlTGFiZWwiOiIkIDEuMzExLjAwMCIsIkJhdHRlcnkiOjkwLCJTdG9yYWdlIjoiMTI4R0IiLCJNb2RlbG8iOiJpUGhvbmUgMTUgUHJvIE1heCIsIkNvbG9yIjoiQmxhbmNvIiwiQ3VvdGEzIjoiJCA1NzguMTc4IiwiQ3VvdGE2IjoiJCAzMzcuODE2IiwiU3RhdHVzIjoiIiwiSW1hZ2VVUkwiOiJodHRwczovL3d3dy5tYWNzdGF0aW9uLmNvbS5hci93ZWIvaW1hZ2UvcHJvZHVjdC50ZW1wbGF0ZS85ODYwMS9pbWFnZV8yNTYvaVBob25lJTIwMTUifSx7Il9yYXciOnsiMiI6IiIsIjE0MjUiOiIiLCJyb3dfbnVtYmVyIjoxMCwiTW9kZWxvIjoiaVBob25lIDE3IiwiQmF0ZXLDrWEiOiIiLCJBbG1hY2VuYW1pZW50byI6IiIsIkNvbG9yIjoiIiwiUHJlY2lvIFVTRCI6IlBvciBFbmNhcmd1ZSIsIlByZWNpbyBBUlMiOiJDb25zdWx0YXIiLCIzIEN1b3RhIjoiIiwiNiBDdW90YXMiOiIiLCJVU0QgSE9ZIjoiIn0sIk5hbWUiOiJpUGhvbmUgMTciLCJQcmljZVVTRCI6bnVsbCwiUHJpY2VBUlMiOm51bGwsIlByaWNlTGFiZWwiOiLigJQiLCJCYXR0ZXJ5IjpudWxsLCJTdG9yYWdlIjoi4oCUIiwiTW9kZWxvIjoiaVBob25lIDE3IiwiQ29sb3IiOm51bGwsIkN1b3RhMyI6bnVsbCwiQ3VvdGE2IjpudWxsLCJTdGF0dXMiOiIiLCJJbWFnZVVSTCI6IiJ9LHsiX3JhdyI6eyIyIjoiIiwiMTQyNSI6IiIsInJvd19udW1iZXIiOjExLCJNb2RlbG8iOiJpUGhvbmUgMTcgUHJvIiwiQmF0ZXLDrWEiOiIiLCJBbG1hY2VuYW1pZW50byI6IiIsIkNvbG9yIjoiIiwiUHJlY2lvIFVTRCI6IlBvciBFbmNhcmd1ZSIsIlByZWNpbyBBUlMiOiJDb25zdWx0YXIiLCIzIEN1b3RhIjoiIiwiNiBDdW90YXMiOiIiLCJVU0QgSE9ZIjoiIn0sIk5hbWUiOiJpUGhvbmUgMTcgUHJvIiwiUHJpY2VVU0QiOm51bGwsIlByaWNlQVJTIjpudWxsLCJQcmljZUxhYmVsIjoi4oCUIiwiQmF0dGVyeSI6bnVsbCwiU3RvcmFnZSI6IuKAlCIsIk1vZGVsbyI6ImlQaG9uZSAxNyBQcm8iLCJDb2xvciI6bnVsbCwiQ3VvdGEzIjpudWxsLCJDdW90YTYiOm51bGwsIlN0YXR1cyI6IiIsIkltYWdlVVJMIjoiIn0seyJfcmF3Ijp7IjIiOiIiLCIxNDI1IjoiIiwicm93X251bWJlciI6MTIsIk1vZGVsbyI6ImlQaG9uZSAxNyBQcm8gTWF4IiwiQmF0ZXLDrWEiOiIiLCJBbG1hY2VuYW1pZW50byI6IiIsIkNvbG9yIjoiIiwiUHJlY2lvIFVTRCI6IlBvciBFbmNhcmd1ZSIsIlByZWNpbyBBUlMiOiJDb25zdWx0YXIiLCIzIEN1b3RhIjoiIiwiNiBDdW90YXMiOiIiLCJVU0QgSE9ZIjoiIn0sIk5hbWUiOiJpUGhvbmUgMTcgUHJvIE1heCIsIlByaWNlVVNEIjpudWxsLCJQcmljZUFSUyI6bnVsbCwiUHJpY2VMYWJlbCI6IuKAlCIsIkJhdHRlcnkiOm51bGwsIlN0b3JhZ2UiOiLigJQiLCJNb2RlbG8iOiJpUGhvbmUgMTcgUHJvIE1heCIsIkNvbG9yIjpudWxsLCJDdW90YTMiOm51bGwsIkN1b3RhNiI6bnVsbCwiU3RhdHVzIjoiIiwiSW1hZ2VVUkwiOiIifV0='));

  // Popup beneficios una vez por sesión
  (function(){
    const key = 'goapple_welcome_seen';
    const seen = sessionStorage.getItem(key);
    const $ov = document.getElementById('welcome');
    if(!seen){ $ov.style.display = 'flex'; }
    function close(){ $ov.style.display='none'; sessionStorage.setItem(key,'1'); }
    document.getElementById('dismiss')?.addEventListener('click', close);
    document.getElementById('see')?.addEventListener('click', close);
    $ov.addEventListener('click', (e)=>{ if(e.target === $ov) close(); });
  })();

  // Helpers en el cliente
  const COLOR_MAP = {"negro":"#111827","black":"#111827","midnight":"#0b1324","graphite":"#3a3a3c","blanco":"#f9fafb","white":"#f9fafb","starlight":"#f5f1e6","silver":"#d1d5db","azul":"#1d4ed8","blue":"#1d4ed8","deep purple":"#5b21b6","purple":"#7c3aed","rojo":"#dc2626","red":"#dc2626","verde":"#16a34a","green":"#16a34a","dorado":"#eab308","gold":"#eab308","rosa":"#fb7185","pink":"#fb7185"};
  const colorToHex = (name)=>{ if(!name) return '#d1d5db'; const key=String(name).trim().toLowerCase(); for(const k in COLOR_MAP){ if(key.includes(k)) return COLOR_MAP[k]; } return '#d1d5db'; };
  const battColor = (pct)=>{ const p=Math.max(0,Math.min(100,Number(String(pct).replace('%',''))||0)); const h=Math.round(p*1.2); return `hsl(${h} 70% 45%)`; };
  const esc = (s)=> String(s ?? '').replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
  const fmtMoney = (v,currency)=>{ if (v==null||v==='') return null; const n=Number(v); if(!isFinite(n)) return null; if(currency==='ARS') return '$ '+n.toLocaleString('es-AR',{maximumFractionDigits:0}); if(currency==='USD') return 'USD '+n.toLocaleString('en-US',{maximumFractionDigits:0}); return '$'+n; };

  // Abrir detalle al click
  const grid = document.getElementById('grid');
  grid.addEventListener('click', (e)=>{
    const el = e.target.closest('.card');
    if(!el) return;
    const idx = Number(el.dataset.idx);
    const p = window.__PRODUCTS__[idx];
    if(!p) return;

    const $ov = document.getElementById('detail');
    const $img = document.getElementById('d-img');
    const $title = document.getElementById('d-title');
    const $meta = document.getElementById('d-meta');
    const $usd = document.getElementById('d-usd');
    const $ars = document.getElementById('d-ars');
    const $cuo = document.getElementById('d-cuotas');

    $img.src = p.ImageURL || '';
    $img.alt = p.Name;
    $title.textContent = p.Name;

    // chips: Color • Almacenamiento • Batería
    const chips = [];
    if(p.Color){ chips.push(`<span class="chip"><i class="dot" style="--dot:${colorToHex(p.Color)}"></i>${esc(p.Color)}</span>`); }
    if(p.Storage && p.Storage !== '—'){ chips.push(`<span class="chip"><i class="dot" style="--dot:#9ca3af"></i>${esc(p.Storage)}</span>`); }
    if(p.Battery!=null){ chips.push(`<span class="chip"><i class="dot" style="--dot:${battColor(p.Battery)}"></i>${p.Battery}%</span>`); }
    $meta.innerHTML = chips.join('');

    // precios: USD y ARS
    $usd.textContent = fmtMoney(p.PriceUSD,'USD') ?? 'USD —';
    $ars.textContent = fmtMoney(p.PriceARS,'ARS') ?? '$ —';

    // cuotas (dos líneas)
    const lines = [];
    if (p.Cuota3) lines.push('3 cuotas de ' + '<strong>' + p.Cuota3 + '</strong>');
    if (p.Cuota6) lines.push('6 cuotas de ' + '<strong>' + p.Cuota6 + '</strong>');
    $cuo.innerHTML = lines.length ? lines.map(l => '<div class="linea">'+l+'</div>').join('') : '<div class="linea">Consultar financiación</div>';

    // WhatsApp
    document.getElementById('d-contact').onclick = function () {
      const msg = encodeURIComponent('Me interesa el ' + p.Name + '. ¿Está disponible?');
      const url = 'https://wa.me/5492645763246?text=' + msg;
      window.open(url, '_blank');
    };

    $ov.style.display = 'flex';
  });

  // Cerrar modal de detalle
  (function(){
    const $ov = document.getElementById('detail');
    function close(){ $ov.style.display='none'; }
    document.getElementById('d-close').addEventListener('click', close);
    document.getElementById('d-later').addEventListener('click', close);
    $ov.addEventListener('click', (e)=>{ if(e.target === $ov) close(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
  })();
</script>

</body>
</html>